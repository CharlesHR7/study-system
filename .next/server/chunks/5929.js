"use strict";exports.id=5929,exports.ids=[5929],exports.modules={55929:(a,b,c)=>{c.d(b,{A:()=>B});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(35284),i=c(62186),j=c(69773),k=c(90133),l=c(44943);function m({className:a,...b}){return(0,d.jsx)(j.bL,{"data-slot":"radio-group",className:(0,l.cn)("grid gap-3",a),...b})}function n({className:a,...b}){return(0,d.jsx)(j.q7,{"data-slot":"radio-group-item",className:(0,l.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,d.jsx)(j.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,d.jsx)(k.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var o=c(46029);function p({className:a,...b}){return(0,d.jsx)(o.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}var q=c(10578),r=c(79944),s=c(1651),t=c(74097),u=c(60073),v=c(93951),w=c(47089),x=c(71613),y=c(25345);function z(a){let b=[...a];for(let a=b.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1));[b[a],b[c]]=[b[c],b[a]]}return b}function A({score:a}){let b=Array.from({length:6},(a,b)=>b);return(0,d.jsxs)("div",{className:"flex flex-col items-end gap-1 text-xs text-muted-foreground",children:[(0,d.jsxs)("span",{className:"font-medium",children:["Level ",a,"/5"]}),(0,d.jsx)("div",{className:"flex gap-1",children:b.map(b=>(0,d.jsx)("div",{className:["h-2 w-2 rounded-full border border-gray-400",b<=a?"bg-gray-800":"bg-transparent"].join(" ")},b))})]})}let B=function({moduleId:a,moduleTitle:b,moduleDescription:c,sections:f,enableCredits:j=!0,examCost:k=1,defaultTestQuestionCount:l=50}){let o=(0,e.useMemo)(()=>f.map(a=>a.id),[f]),[B,C]=(0,e.useState)(()=>o.length>0?[o[0]]:[]),[D,E]=(0,e.useState)("home"),[F,G]=(0,e.useState)("flashcard"),[H,I]=(0,e.useState)([]),[J,K]=(0,e.useState)([]),[L,M]=(0,e.useState)(0),[N,O]=(0,e.useState)(""),[P,Q]=(0,e.useState)([]),[R,S]=(0,e.useState)(!1),[T,U]=(0,e.useState)(!1),[V,W]=(0,e.useState)(null),[X,Y]=(0,e.useState)(!1),[Z,$]=(0,e.useState)({}),[_,aa]=(0,e.useState)(0),[ab,ac]=(0,e.useState)({}),ad=a=>f.find(b=>b.id===a),ae=(0,e.useMemo)(()=>{if(0===B.length)return`${b} – No section selected`;if(B.length===o.length)return`${b} – All sections`;let a=B.map(a=>ad(a)).filter(Boolean).map(a=>a.shortTitle||a.title);return`${b} – ${a.join(", ")}`},[b,B,o.length,f]),af=a=>{let b=a.length>0?a:o,c=1,d=[];return b.forEach(a=>{let b=ad(a);b&&(b.questions||[]).forEach(b=>{if(!b||!b.question||!b.options)return;let e=b.correctAnswer??b.correct_answer??"A",f={id:c++,sectionId:a,question:b.question,options:b.options,correctAnswer:e,reference:b.reference,source:b.source,explanation:b.explanation,category:b.category};d.push(function(a){let b=z(Object.entries(a.options)),c={A:"",B:"",C:"",D:""},d=["A","B","C","D"],e="A";return b.forEach(([b,f],g)=>{let h=d[g];c[h]=f,b===a.correctAnswer&&(e=h)}),{...a,options:c,correctAnswer:e}}(f))})}),d},ag=(a,b,c)=>{let d=b.length>0?b:o,e=Math.min(c,a.length);if(e<=0)return[];let f={},g=0;d.forEach(b=>{f[b]=z(a.filter(a=>a.sectionId===b));let c=ad(b),d=c?.weight??1;g+=d});let h=[],i=[],j=e;if(d.forEach(a=>{let b=f[a]??[];if(0===b.length||j<=0)return;let c=ad(a),d=Math.min(Math.round(e*(c?.weight??1)/g),b.length,j);h.push(...b.slice(0,d)),j-=d,i.push(...b.slice(d))}),j>0&&i.length>0){let a=z(i);h.push(...a.slice(0,j))}return z(h).slice(0,e)},ah=(0,e.useMemo)(()=>B.reduce((a,b)=>a+(a=>{let b=ad(a);return b?.questions?.length??0})(b),0),[B,f]);B.length,o.length;let ai=a=>{if(0===f.length)return void alert("This module has no sections configured yet.");let b=af(B);if(0===b.length)return void alert("There are no questions in the selected sections. Please add questions to the JSON files.");if("test"===a){if(j&&_<k)return void alert(`You do not have enough exam credits to start a test. Required: ${k}.`);j&&aa(a=>Math.max(a-k,0));let a=ag(b,B,l);K(a),W(a.length>25?2700:1320),Y(!0)}else K(b),W(null),Y(!1);I(b),G(a),E("quiz"),M(0),O(""),Q([]),S(!1),U(!1),ac({})},aj=()=>{E("home"),M(0),O(""),S(!1),Q([]),ac({}),W(null),Y(!1)},ak=()=>{if(0!==J.length){if("test"===F){if(j&&_<k)return void alert("You do not have enough exam credits to start a new test. Add more credits in My account.");j&&aa(a=>Math.max(a-k,0));let a=ag(H,B,l);K(a),W(a.length>25?2700:1320),Y(!0)}else K(af(B)),W(null),Y(!1);M(0),O(""),S(!1),Q([]),ac({}),E("quiz")}},al=()=>{let a=P.filter(a=>!a.isCorrect).map(a=>a.questionId),b=J.filter(b=>a.includes(b.id));if(0===b.length)return void ak();K(b),M(0),O(""),S(!1),Q([]),ac({}),E("quiz")},am=()=>{let a=J.length,b=P.filter(a=>a.isCorrect).length,c=P.length,d=Math.max(c-b,0),e=Math.max(a-c,0),f=a>0?Math.round(b/a*100):0;return{total:a,correct:b,answered:c,incorrect:d,unanswered:e,percentage:f}},an=J[L],ao=an&&Z?Z[an.id]??3:3,ap=J.length>0?(L+1)/J.length*100:0;if("account"===D)return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,d.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:[(0,d.jsx)(q.A,{className:"h-3 w-3"}),(0,d.jsxs)("span",{children:["My account – ",b]})]}),(0,d.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Exam credits"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Credits for Test mode sessions in this module."})]}),(0,d.jsxs)(h.$,{variant:"outline",size:"sm",onClick:aj,children:[(0,d.jsx)(r.A,{className:"mr-2 h-4 w-4"}),"Back"]})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsxs)(i.aR,{children:[(0,d.jsx)(i.ZB,{children:"Available credits"}),(0,d.jsx)(i.BT,{children:"Test mode consumes credits; Practice and Flashcards are free."})]}),(0,d.jsxs)(i.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between rounded-lg border bg-muted/40 px-4 py-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(s.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm font-semibold",children:"Credits for this module"})]}),(0,d.jsx)("span",{className:"font-mono text-lg",children:_})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[(0,d.jsxs)("span",{children:["• 1 Test = ",k," credit"]}),(0,d.jsx)("span",{children:"• Practice and Flashcards are always free"})]})]}),(0,d.jsxs)(i.wL,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"In the future, credits will be recharged via payment methods."}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",onClick:()=>aa(a=>a+5),children:"Add 5 test credits (dev)"})]})]})]})});if("home"===D)return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,d.jsxs)("div",{className:"max-w-3xl mx-auto space-y-8",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:b}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:c})]}),j&&(0,d.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border bg-muted/40 px-3 py-1 text-xs",children:[(0,d.jsx)(s.A,{className:"h-3 w-3"}),(0,d.jsxs)("span",{className:"font-medium",children:["Credits:"," ",(0,d.jsx)("span",{className:"font-mono",children:_})]})]}),(0,d.jsxs)(h.$,{variant:"outline",size:"sm",onClick:()=>E("account"),children:[(0,d.jsx)(q.A,{className:"mr-2 h-4 w-4"}),"My account"]})]})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsxs)(i.aR,{children:[(0,d.jsx)(i.ZB,{children:"Sections"}),(0,d.jsx)(i.BT,{children:"Select one or more sections to build the study deck."})]}),(0,d.jsx)(i.Wu,{className:"space-y-4",children:0===f.length?(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No sections configured for this module yet."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Click to toggle each section. You can combine multiple sections in one session."}),(0,d.jsx)(h.$,{variant:"outline",size:"sm",onClick:()=>{C(o)},children:"Select all"})]}),(0,d.jsx)("ul",{className:"space-y-2",children:f.map(a=>{let b=B.includes(a.id),c=a.questions?.length??0,e=a.subtitle||`${c} question${1===c?"":"s"}`;return(0,d.jsx)("li",{children:(0,d.jsxs)("button",{type:"button",onClick:()=>{var b;return b=a.id,void C(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`w-full flex items-center justify-between rounded-xl border px-4 py-3 text-left transition
                              ${b?"bg-gray-900 text-white border-gray-900 shadow-sm":"bg-white hover:bg-gray-50 border-gray-200"}`,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-semibold",children:a.shortTitle||a.title}),(0,d.jsx)("div",{className:`text-xs ${b?"text-gray-200":"text-gray-600"}`,children:e})]}),(0,d.jsxs)("span",{className:`text-xs px-2 py-1 rounded-full ${b?"bg-gray-800 text-gray-100":"bg-gray-100 text-gray-700"}`,children:[c," questions"]})]})},a.id)})}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Selected sections:"," ",(0,d.jsx)("span",{className:"font-semibold",children:B.length})," ","\xb7 Total questions in deck:"," ",(0,d.jsx)("span",{className:"font-semibold",children:ah})]})]})})]}),(0,d.jsxs)(i.Zp,{children:[(0,d.jsxs)(i.aR,{children:[(0,d.jsx)(i.ZB,{children:"Study modes"}),(0,d.jsx)(i.BT,{children:"Choose how you want to study this deck."})]}),(0,d.jsxs)(i.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between border rounded-lg px-4 py-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold",children:"Flashcard mode"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Shows the correct answer and explanation immediately."})]}),(0,d.jsx)(h.$,{disabled:0===ah,onClick:()=>ai("flashcard"),children:"Start"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between border rounded-lg px-4 py-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold",children:"Practice mode"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Multiple choice with instant feedback. Free, unlimited."})]}),(0,d.jsx)(h.$,{disabled:0===ah,onClick:()=>ai("practice"),children:"Start"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between border rounded-lg px-4 py-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold",children:"Test mode"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Timed exam. Unanswered questions count as incorrect.",j&&(0,d.jsxs)(d.Fragment,{children:[" ","Costs"," ",(0,d.jsxs)("span",{className:"font-semibold",children:[k," credit",1!==k&&"s"]})," ","per test."]})]})]}),(0,d.jsx)(h.$,{disabled:0===ah,onClick:()=>ai("test"),children:"Start"})]})]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,d.jsx)(g(),{href:"/",children:(0,d.jsxs)(h.$,{variant:"outline",size:"sm",children:[(0,d.jsx)(r.A,{className:"mr-2 h-4 w-4"}),"Back to main menu"]})}),(0,d.jsx)("span",{children:ae})]})]})});if("quiz"===D&&an){let c="flashcard"===F,e="test"===F;return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("div",{className:"inline-flex items-center space-x-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-medium mb-1",children:c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.A,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:"Flashcard mode"})]}):"practice"===F?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.A,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:"Practice mode"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.A,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:"Test mode"})]})}),(0,d.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:b}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:ae})]}),(0,d.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[e&&null!==V&&(0,d.jsxs)("span",{className:"font-mono text-sm px-2 py-1 rounded bg-secondary text-secondary-foreground",children:["Time left: ",function(a){let b=Math.floor(a/60);return`${b.toString().padStart(2,"0")}:${(a%60).toString().padStart(2,"0")}`}(V)]}),(0,d.jsxs)(h.$,{variant:"outline",size:"sm",onClick:aj,children:[(0,d.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Exit"]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,d.jsxs)("span",{children:["Question ",L+1," of ",J.length]}),(0,d.jsxs)("span",{children:[Math.round(ap),"% completed"]})]}),(0,d.jsx)("div",{className:"w-full bg-secondary/40 rounded-full h-2 overflow-hidden",children:(0,d.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${ap}%`}})})]}),(0,d.jsxs)(i.Zp,{className:"shadow-lg border-primary/10",children:[(0,d.jsx)(i.aR,{className:"space-y-2",children:(0,d.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,d.jsx)(i.ZB,{className:"text-lg md:text-xl",children:an.question}),!c&&(0,d.jsx)(A,{score:ao})]})}),(0,d.jsx)(i.Wu,{className:"space-y-4",children:c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"p-3 rounded-lg bg-primary/5 border border-primary/20 text-sm",children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Correct answer"}),(0,d.jsxs)("p",{children:[an.correctAnswer,"."," ",an.options[an.correctAnswer]]})]}),an.explanation&&(0,d.jsxs)("div",{className:"p-3 rounded-lg bg-muted/60 text-sm",children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Explanation"}),(0,d.jsx)("p",{children:an.explanation})]}),(0,d.jsxs)("div",{className:"grid gap-2 text-xs text-muted-foreground md:grid-cols-2",children:[an.reference&&(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-semibold",children:"Reference: "}),an.reference]}),an.source&&(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-semibold",children:"Source: "}),an.source]}),an.category&&(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-semibold",children:"Category: "}),an.category]})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m,{value:N,onValueChange:a=>{let b=J[L];if(!b||("practice"===F||"test"===F)&&ab[b.id]||(O(a),"flashcard"===F))return;let c=a===b.correctAnswer;U(c),S("practice"===F),$(a=>(function(a,b,c){let d=a[b]??3,e=c?Math.min(5,d+1):Math.max(0,d-1);return{...a,[b]:e}})(a,b.id,c)),Q(d=>{let e=d.findIndex(a=>a.questionId===b.id),f={questionId:b.id,selectedAnswer:a,isCorrect:c};if(e>=0){let a=[...d];return a[e]=f,a}return[...d,f]}),("practice"===F||"test"===F)&&ac(a=>({...a,[b.id]:!0})),"test"===F&&P.length+1>=J.length&&setTimeout(()=>{E("results"),Y(!1)},300)},className:"grid gap-3",children:["A","B","C","D"].map(b=>(0,d.jsxs)(p,{className:`flex items-center space-x-3 p-3 border rounded-lg cursor-pointer transition-all ${N===b?"border-primary bg-primary/5":"border-border hover:border-primary/60 hover:bg-primary/5"}`,children:[(0,d.jsx)(n,{value:b,id:`${a}-${an.id}-${b}`}),(0,d.jsx)("div",{className:"flex flex-col",children:(0,d.jsxs)("span",{className:"font-semibold text-sm",children:[b,"."," ",an.options[b]]})})]},b))}),"practice"===F&&R&&(0,d.jsxs)("div",{className:`mt-4 p-3 rounded-lg text-sm flex items-start space-x-2 ${T?"bg-emerald-50 text-emerald-800 border border-emerald-100":"bg-red-50 text-red-800 border border-red-100"}`,children:[(0,d.jsx)("div",{className:"mt-0.5",children:T?(0,d.jsx)(x.A,{className:"w-4 h-4 text-emerald-500"}):(0,d.jsx)(w.A,{className:"w-4 h-4 text-red-500"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold",children:T?"Correct!":"Incorrect."}),!T&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{className:"mt-1",children:["Correct answer:"," ",(0,d.jsxs)("span",{className:"font-semibold",children:[an.correctAnswer,"."," ",an.options[an.correctAnswer]]})]}),an.reference&&(0,d.jsxs)("p",{className:"mt-1 text-xs",children:[(0,d.jsxs)("span",{className:"font-semibold",children:["Reference:"," "]}),an.reference]})]})]})]})]})}),(0,d.jsxs)(i.wL,{className:"flex justify-between",children:[(0,d.jsx)(h.$,{variant:"outline",disabled:0===L,onClick:()=>{0!==L&&(M(a=>a-1),O(""),"practice"===F&&S(!1))},children:"Previous"}),(0,d.jsx)(h.$,{onClick:()=>{if(L>=J.length-1){"test"===F?(E("results"),Y(!1)):"practice"===F?E("practiceResults"):M(0),O(""),S(!1);return}M(a=>a+1),O(""),"practice"===F&&S(!1)},children:L===J.length-1?e?"Finish test":"Finish":"Next"})]})]})]})})}if("practiceResults"===D){let{total:a,correct:c,incorrect:e,answered:f,unanswered:g,percentage:j}=am(),k=P.filter(a=>!a.isCorrect).map((a,b)=>{let c=J.find(b=>b.id===a.questionId);return c?{idx:b,question:c,answer:a}:null}).filter(Boolean);return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,d.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,d.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,d.jsxs)(i.aR,{className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:(0,d.jsx)(u.A,{className:"w-9 h-9 text-primary"})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(i.ZB,{className:"text-2xl font-bold",children:["Practice Summary – ",b]}),(0,d.jsx)(i.BT,{className:"text-sm text-muted-foreground",children:"Use this to attack your weak questions."})]})]}),(0,d.jsxs)(i.Wu,{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("p",{className:"text-3xl font-bold tracking-tight",children:[j,"%"," ",(0,d.jsx)("span",{className:"text-sm font-normal text-muted-foreground",children:"correct in this practice"})]}),(0,d.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,d.jsxs)("li",{children:["• Total questions in deck:"," ",(0,d.jsx)("span",{className:"font-medium",children:a})]}),(0,d.jsxs)("li",{children:["• Answered:"," ",(0,d.jsx)("span",{className:"font-medium",children:f})]}),(0,d.jsxs)("li",{children:["• Unanswered:"," ",(0,d.jsx)("span",{className:"font-medium",children:g})]}),(0,d.jsxs)("li",{children:["• Correct:"," ",(0,d.jsx)("span",{className:"font-medium",children:c})]}),(0,d.jsxs)("li",{children:["• Incorrect:"," ",(0,d.jsx)("span",{className:"font-medium",children:e})]})]})]}),(0,d.jsx)("div",{className:"w-full md:w-64",children:(0,d.jsxs)("div",{className:"relative w-32 h-32 mx-auto",children:[(0,d.jsx)("div",{className:"absolute inset-0 rounded-full bg-secondary"}),(0,d.jsx)("div",{className:"absolute inset-2 rounded-full border-[8px] border-primary",style:{background:`conic-gradient(var(--primary) ${j}%, transparent ${j}%)`}}),(0,d.jsx)("div",{className:"absolute inset-6 rounded-full bg-background flex items-center justify-center",children:(0,d.jsxs)("span",{className:"text-2xl font-bold",children:[j,"%"]})})]})})]}),(0,d.jsxs)("div",{className:"border-t pt-4 space-y-3",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold",children:"Questions you missed"}),0===k.length?(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"You didn't miss any question in this practice. Great job!"}):(0,d.jsx)("div",{className:"space-y-3 max-h-72 overflow-auto pr-1",children:k.map(({idx:a,question:b,answer:c})=>(0,d.jsxs)("div",{className:"border rounded-md p-2 bg-muted/40 text-xs",children:[(0,d.jsxs)("p",{className:"font-semibold mb-1",children:["Q",a+1,". ",b.question]}),(0,d.jsxs)("p",{className:"mb-1",children:["Your answer:"," ",(0,d.jsxs)("span",{className:"font-semibold",children:[c.selectedAnswer,"."," ",b.options[c.selectedAnswer]]})]}),(0,d.jsxs)("p",{className:"mb-1",children:["Correct answer:"," ",(0,d.jsxs)("span",{className:"font-semibold",children:[b.correctAnswer,"."," ",b.options[b.correctAnswer]]})]}),b.reference&&(0,d.jsxs)("p",{className:"text-[11px] text-muted-foreground",children:["Reference: ",b.reference]})]},`${b.id}-${a}`))})]})]}),(0,d.jsxs)(i.wL,{className:"flex flex-col md:flex-row md:justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:[(0,d.jsxs)(h.$,{className:"w-full md:w-auto",size:"sm",onClick:ak,children:[(0,d.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Repeat practice with same configuration"]}),(0,d.jsx)(h.$,{className:"w-full md:w-auto",size:"sm",variant:"outline",disabled:0===P.filter(a=>!a.isCorrect).length,onClick:al,children:"Study only the questions I got wrong"})]}),(0,d.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:(0,d.jsxs)(h.$,{onClick:aj,variant:"outline",className:"w-full sm:w-auto",size:"sm",children:[(0,d.jsx)(t.A,{className:"w-4 h-4 mr-2"}),"Back to module home"]})})]})]})})})}if("results"===D){let{total:a,correct:c,incorrect:e,answered:f,unanswered:g,percentage:j}=am();return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,d.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,d.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,d.jsxs)(i.aR,{className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"mx-auto w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center",children:(0,d.jsx)(v.A,{className:"w-10 h-10 text-primary"})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(i.ZB,{className:"text-3xl font-bold",children:["Test Results – ",b]}),(0,d.jsx)(i.BT,{className:"text-base text-muted-foreground",children:"Review your performance and identify areas to improve."})]})]}),(0,d.jsx)(i.Wu,{className:"space-y-6",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("p",{className:"text-4xl font-bold tracking-tight",children:[j,"%"," ",(0,d.jsx)("span",{className:"text-base font-normal text-muted-foreground",children:"score"})]}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:[c," of ",a," questions correct"]}),(0,d.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,d.jsxs)("li",{children:["• Answered:"," ",(0,d.jsx)("span",{className:"font-medium",children:f})]}),(0,d.jsxs)("li",{children:["• Unanswered:"," ",(0,d.jsx)("span",{className:"font-medium",children:g})]}),(0,d.jsxs)("li",{children:["• Incorrect:"," ",(0,d.jsx)("span",{className:"font-medium",children:e})]})]})]}),(0,d.jsx)("div",{className:"w-full md:w-64",children:(0,d.jsxs)("div",{className:"relative w-40 h-40 mx-auto",children:[(0,d.jsx)("div",{className:"absolute inset-0 rounded-full bg-secondary"}),(0,d.jsx)("div",{className:"absolute inset-3 rounded-full border-[10px] border-primary",style:{background:`conic-gradient(var(--primary) ${j}%, transparent ${j}%)`}}),(0,d.jsx)("div",{className:"absolute inset-7 rounded-full bg-background flex items-center justify-center",children:(0,d.jsxs)("span",{className:"text-3xl font-bold",children:[j,"%"]})})]})})]})}),(0,d.jsxs)(i.wL,{className:"flex flex-col md:flex-row md:justify-between gap-3",children:[(0,d.jsxs)(h.$,{onClick:ak,className:"w-full md:w-auto",size:"lg",children:[(0,d.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Take another test"]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[(0,d.jsxs)(h.$,{onClick:aj,variant:"outline",className:"w-full sm:w-auto",size:"lg",children:[(0,d.jsx)(t.A,{className:"w-4 h-4 mr-2"}),"Back to module home"]}),(0,d.jsxs)(h.$,{onClick:al,variant:"outline",size:"lg",children:[(0,d.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Practice only incorrect questions"]})]})]})]})})})}return null}}};