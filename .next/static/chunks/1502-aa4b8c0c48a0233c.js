"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1502],{1462:(e,s,t)=>{t.d(s,{A:()=>z});var r=t(5155),a=t(2115),n=t(2619),l=t.n(n),i=t(3998),c=t(6948),d=t(3241),o=t(9051),m=t(4269);function x(e){let{className:s,...t}=e;return(0,r.jsx)(d.bL,{"data-slot":"radio-group",className:(0,m.cn)("grid gap-3",s),...t})}function u(e){let{className:s,...t}=e;return(0,r.jsx)(d.q7,{"data-slot":"radio-group-item",className:(0,m.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,r.jsx)(d.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,r.jsx)(o.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var h=t(489);function f(e){let{className:s,...t}=e;return(0,r.jsx)(h.b,{"data-slot":"label",className:(0,m.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}var p=t(508),j=t(5626),g=t(8055),N=t(7937),b=t(1473),v=t(6613),y=t(5229),w=t(5917),k=t(9559);function A(e){let s=[...e];for(let e=s.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}return s}function S(e){let{score:s}=e,t=Array.from({length:6},(e,s)=>s);return(0,r.jsxs)("div",{className:"flex flex-col items-end gap-1 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{className:"font-medium",children:["Level ",s,"/5"]}),(0,r.jsx)("div",{className:"flex gap-1",children:t.map(e=>(0,r.jsx)("div",{className:["h-2 w-2 rounded-full border border-gray-400",e<=s?"bg-gray-800":"bg-transparent"].join(" ")},e))})]})}function C(e){return"".concat(e,"_questionScores_v1")}function q(e){return"".concat(e,"_examCredits_v1")}let z=function(e){var s;let{moduleId:t,moduleTitle:n,moduleDescription:d,sections:o,enableCredits:m=!0,examCost:h=1,defaultTestQuestionCount:z=50}=e,B=(0,a.useMemo)(()=>o.map(e=>e.id),[o]),[T,M]=(0,a.useState)(()=>B.length>0?[B[0]]:[]),[$,I]=(0,a.useState)("home"),[F,R]=(0,a.useState)("flashcard"),[Z,_]=(0,a.useState)([]),[E,L]=(0,a.useState)([]),[P,W]=(0,a.useState)(0),[O,U]=(0,a.useState)(""),[Y,D]=(0,a.useState)([]),[J,Q]=(0,a.useState)(!1),[G,V]=(0,a.useState)(!1),[H,X]=(0,a.useState)(null),[K,ee]=(0,a.useState)(!1),[es,et]=(0,a.useState)({}),[er,ea]=(0,a.useState)(0),[en,el]=(0,a.useState)({}),ei=e=>o.find(s=>s.id===e),ec=(0,a.useMemo)(()=>{if(0===T.length)return"".concat(n," – No section selected");if(T.length===B.length)return"".concat(n," – All sections");let e=T.map(e=>ei(e)).filter(Boolean).map(e=>e.shortTitle||e.title);return"".concat(n," – ").concat(e.join(", "))},[n,T,B.length,o]),ed=e=>{let s=e.length>0?e:B,t=1,r=[];return s.forEach(e=>{let s=ei(e);s&&(s.questions||[]).forEach(s=>{var a,n;if(!s||!s.question||!s.options)return;let l=null!=(n=null!=(a=s.correctAnswer)?a:s.correct_answer)?n:"A",i={id:t++,sectionId:e,question:s.question,options:s.options,correctAnswer:l,reference:s.reference,source:s.source,explanation:s.explanation,category:s.category};r.push(function(e){let s=A(Object.entries(e.options)),t={A:"",B:"",C:"",D:""},r=["A","B","C","D"],a="A";return s.forEach((s,n)=>{let[l,i]=s,c=r[n];t[c]=i,l===e.correctAnswer&&(a=c)}),{...e,options:t,correctAnswer:a}}(i))})}),r},eo=(e,s,t)=>{let r=s.length>0?s:B,a=Math.min(t,e.length);if(a<=0)return[];let n={},l=0;r.forEach(s=>{var t;n[s]=A(e.filter(e=>e.sectionId===s));let r=ei(s),a=null!=(t=null==r?void 0:r.weight)?t:1;l+=a});let i=[],c=[],d=a;if(r.forEach(e=>{var s,t;let r=null!=(s=n[e])?s:[];if(0===r.length||d<=0)return;let o=ei(e),m=Math.min(Math.round(a*(null!=(t=null==o?void 0:o.weight)?t:1)/l),r.length,d);i.push(...r.slice(0,m)),d-=m,c.push(...r.slice(m))}),d>0&&c.length>0){let e=A(c);i.push(...e.slice(0,d))}return A(i).slice(0,a)},em=(0,a.useMemo)(()=>T.reduce((e,s)=>e+(e=>{var s,t;let r=ei(e);return null!=(t=null==r||null==(s=r.questions)?void 0:s.length)?t:0})(s),0),[T,o]);T.length,B.length,(0,a.useEffect)(()=>{et(function(e){try{let s=window.localStorage.getItem(C(e));if(!s)return{};return JSON.parse(s)}catch(e){return{}}}(t)),ea(function(e){try{let s=window.localStorage.getItem(q(e));if(!s)return 0;let t=Number(s);return Number.isFinite(t)?t:0}catch(e){return 0}}(t))},[t]),(0,a.useEffect)(()=>{try{window.localStorage.setItem(C(t),JSON.stringify(es))}catch(e){}},[t,es]),(0,a.useEffect)(()=>{try{window.localStorage.setItem(q(t),String(er))}catch(e){}},[t,er]),(0,a.useEffect)(()=>{if(!K||null===H)return;if(H<=0){ee(!1),X(0),I("results");return}let e=setInterval(()=>{X(e=>null!==e?e-1:e)},1e3);return()=>clearInterval(e)},[K,H]);let ex=e=>{if(0===o.length)return void alert("This module has no sections configured yet.");let s=ed(T);if(0===s.length)return void alert("There are no questions in the selected sections. Please add questions to the JSON files.");if("test"===e){if(m&&er<h)return void alert("You do not have enough exam credits to start a test. Required: ".concat(h,"."));m&&ea(e=>Math.max(e-h,0));let e=eo(s,T,z);L(e),X(e.length>25?2700:1320),ee(!0)}else L(s),X(null),ee(!1);_(s),R(e),I("quiz"),W(0),U(""),D([]),Q(!1),V(!1),el({})},eu=()=>{I("home"),W(0),U(""),Q(!1),D([]),el({}),X(null),ee(!1)},eh=()=>{if(0!==E.length){if("test"===F){if(m&&er<h)return void alert("You do not have enough exam credits to start a new test. Add more credits in My account.");m&&ea(e=>Math.max(e-h,0));let e=eo(Z,T,z);L(e),X(e.length>25?2700:1320),ee(!0)}else L(ed(T)),X(null),ee(!1);W(0),U(""),Q(!1),D([]),el({}),I("quiz")}},ef=()=>{let e=Y.filter(e=>!e.isCorrect).map(e=>e.questionId),s=E.filter(s=>e.includes(s.id));if(0===s.length)return void eh();L(s),W(0),U(""),Q(!1),D([]),el({}),I("quiz")},ep=()=>{let e=E.length,s=Y.filter(e=>e.isCorrect).length,t=Y.length,r=Math.max(t-s,0),a=Math.max(e-t,0),n=e>0?Math.round(s/e*100):0;return{total:e,correct:s,answered:t,incorrect:r,unanswered:a,percentage:n}},ej=E[P],eg=ej&&es&&null!=(s=es[ej.id])?s:3,eN=E.length>0?(P+1)/E.length*100:0;if("account"===$)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:[(0,r.jsx)(p.A,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:["My account – ",n]})]}),(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Exam credits"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Credits for Test mode sessions in this module."})]}),(0,r.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eu,children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Back"]})]}),(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{children:"Available credits"}),(0,r.jsx)(c.BT,{children:"Test mode consumes credits; Practice and Flashcards are free."})]}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-lg border bg-muted/40 px-4 py-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm font-semibold",children:"Credits for this module"})]}),(0,r.jsx)("span",{className:"font-mono text-lg",children:er})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["• 1 Test = ",h," credit"]}),(0,r.jsx)("span",{children:"• Practice and Flashcards are always free"})]})]}),(0,r.jsxs)(c.wL,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"In the future, credits will be recharged via payment methods."}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>ea(e=>e+5),children:"Add 5 test credits (dev)"})]})]})]})});if("home"===$)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:n}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:d})]}),m&&(0,r.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border bg-muted/40 px-3 py-1 text-xs",children:[(0,r.jsx)(g.A,{className:"h-3 w-3"}),(0,r.jsxs)("span",{className:"font-medium",children:["Credits:"," ",(0,r.jsx)("span",{className:"font-mono",children:er})]})]}),(0,r.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>I("account"),children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"My account"]})]})]}),(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{children:"Sections"}),(0,r.jsx)(c.BT,{children:"Select one or more sections to build the study deck."})]}),(0,r.jsx)(c.Wu,{className:"space-y-4",children:0===o.length?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No sections configured for this module yet."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Click to toggle each section. You can combine multiple sections in one session."}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{M(B)},children:"Select all"})]}),(0,r.jsx)("ul",{className:"space-y-2",children:o.map(e=>{var s,t;let a=T.includes(e.id),n=null!=(t=null==(s=e.questions)?void 0:s.length)?t:0,l=e.subtitle||"".concat(n," question").concat(1===n?"":"s");return(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",onClick:()=>{var s;return s=e.id,void M(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},className:"w-full flex items-center justify-between rounded-xl border px-4 py-3 text-left transition\n                              ".concat(a?"bg-gray-900 text-white border-gray-900 shadow-sm":"bg-white hover:bg-gray-50 border-gray-200"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-semibold",children:e.shortTitle||e.title}),(0,r.jsx)("div",{className:"text-xs ".concat(a?"text-gray-200":"text-gray-600"),children:l})]}),(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(a?"bg-gray-800 text-gray-100":"bg-gray-100 text-gray-700"),children:[n," questions"]})]})},e.id)})}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Selected sections:"," ",(0,r.jsx)("span",{className:"font-semibold",children:T.length})," ","\xb7 Total questions in deck:"," ",(0,r.jsx)("span",{className:"font-semibold",children:em})]})]})})]}),(0,r.jsxs)(c.Zp,{children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{children:"Study modes"}),(0,r.jsx)(c.BT,{children:"Choose how you want to study this deck."})]}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border rounded-lg px-4 py-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:"Flashcard mode"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Shows the correct answer and explanation immediately."})]}),(0,r.jsx)(i.$,{disabled:0===em,onClick:()=>ex("flashcard"),children:"Start"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border rounded-lg px-4 py-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:"Practice mode"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Multiple choice with instant feedback. Free, unlimited."})]}),(0,r.jsx)(i.$,{disabled:0===em,onClick:()=>ex("practice"),children:"Start"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border rounded-lg px-4 py-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:"Test mode"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Timed exam. Unanswered questions count as incorrect.",m&&(0,r.jsxs)(r.Fragment,{children:[" ","Costs"," ",(0,r.jsxs)("span",{className:"font-semibold",children:[h," credit",1!==h&&"s"]})," ","per test."]})]})]}),(0,r.jsx)(i.$,{disabled:0===em,onClick:()=>ex("test"),children:"Start"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,r.jsx)(l(),{href:"/",children:(0,r.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Back to main menu"]})}),(0,r.jsx)("span",{children:ec})]})]})});if("quiz"===$&&ej){let e="flashcard"===F,s="test"===F;return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"inline-flex items-center space-x-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-medium mb-1",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.A,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Flashcard mode"})]}):"practice"===F?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Practice mode"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.A,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Test mode"})]})}),(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:n}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:ec})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[s&&null!==H&&(0,r.jsxs)("span",{className:"font-mono text-sm px-2 py-1 rounded bg-secondary text-secondary-foreground",children:["Time left: ",function(e){let s=Math.floor(e/60);return"".concat(s.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))}(H)]}),(0,r.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eu,children:[(0,r.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Exit"]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Question ",P+1," of ",E.length]}),(0,r.jsxs)("span",{children:[Math.round(eN),"% completed"]})]}),(0,r.jsx)("div",{className:"w-full bg-secondary/40 rounded-full h-2 overflow-hidden",children:(0,r.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"".concat(eN,"%")}})})]}),(0,r.jsxs)(c.Zp,{className:"shadow-lg border-primary/10",children:[(0,r.jsx)(c.aR,{className:"space-y-2",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsx)(c.ZB,{className:"text-lg md:text-xl",children:ej.question}),!e&&(0,r.jsx)(S,{score:eg})]})}),(0,r.jsx)(c.Wu,{className:"space-y-4",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-primary/5 border border-primary/20 text-sm",children:[(0,r.jsx)("p",{className:"font-semibold mb-1",children:"Correct answer"}),(0,r.jsxs)("p",{children:[ej.correctAnswer,"."," ",ej.options[ej.correctAnswer]]})]}),ej.explanation&&(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-muted/60 text-sm",children:[(0,r.jsx)("p",{className:"font-semibold mb-1",children:"Explanation"}),(0,r.jsx)("p",{children:ej.explanation})]}),(0,r.jsxs)("div",{className:"grid gap-2 text-xs text-muted-foreground md:grid-cols-2",children:[ej.reference&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Reference: "}),ej.reference]}),ej.source&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Source: "}),ej.source]}),ej.category&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Category: "}),ej.category]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{value:O,onValueChange:e=>{let s=E[P];if(!s||("practice"===F||"test"===F)&&en[s.id]||(U(e),"flashcard"===F))return;let t=e===s.correctAnswer;V(t),Q("practice"===F),et(e=>(function(e,s,t){var r;let a=null!=(r=e[s])?r:3,n=t?Math.min(5,a+1):Math.max(0,a-1);return{...e,[s]:n}})(e,s.id,t)),D(r=>{let a=r.findIndex(e=>e.questionId===s.id),n={questionId:s.id,selectedAnswer:e,isCorrect:t};if(a>=0){let e=[...r];return e[a]=n,e}return[...r,n]}),("practice"===F||"test"===F)&&el(e=>({...e,[s.id]:!0})),"test"===F&&Y.length+1>=E.length&&setTimeout(()=>{I("results"),ee(!1)},300)},className:"grid gap-3",children:["A","B","C","D"].map(e=>(0,r.jsxs)(f,{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer transition-all ".concat(O===e?"border-primary bg-primary/5":"border-border hover:border-primary/60 hover:bg-primary/5"),children:[(0,r.jsx)(u,{value:e,id:"".concat(t,"-").concat(ej.id,"-").concat(e)}),(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsxs)("span",{className:"font-semibold text-sm",children:[e,"."," ",ej.options[e]]})})]},e))}),"practice"===F&&J&&(0,r.jsxs)("div",{className:"mt-4 p-3 rounded-lg text-sm flex items-start space-x-2 ".concat(G?"bg-emerald-50 text-emerald-800 border border-emerald-100":"bg-red-50 text-red-800 border border-red-100"),children:[(0,r.jsx)("div",{className:"mt-0.5",children:G?(0,r.jsx)(w.A,{className:"w-4 h-4 text-emerald-500"}):(0,r.jsx)(y.A,{className:"w-4 h-4 text-red-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:G?"Correct!":"Incorrect."}),!G&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"mt-1",children:["Correct answer:"," ",(0,r.jsxs)("span",{className:"font-semibold",children:[ej.correctAnswer,"."," ",ej.options[ej.correctAnswer]]})]}),ej.reference&&(0,r.jsxs)("p",{className:"mt-1 text-xs",children:[(0,r.jsxs)("span",{className:"font-semibold",children:["Reference:"," "]}),ej.reference]})]})]})]})]})}),(0,r.jsxs)(c.wL,{className:"flex justify-between",children:[(0,r.jsx)(i.$,{variant:"outline",disabled:0===P,onClick:()=>{0!==P&&(W(e=>e-1),U(""),"practice"===F&&Q(!1))},children:"Previous"}),(0,r.jsx)(i.$,{onClick:()=>{if(P>=E.length-1){"test"===F?(I("results"),ee(!1)):"practice"===F?I("practiceResults"):W(0),U(""),Q(!1);return}W(e=>e+1),U(""),"practice"===F&&Q(!1)},children:P===E.length-1?s?"Finish test":"Finish":"Next"})]})]})]})})}if("practiceResults"===$){let{total:e,correct:s,incorrect:t,answered:a,unanswered:l,percentage:d}=ep(),o=Y.filter(e=>!e.isCorrect).map((e,s)=>{let t=E.find(s=>s.id===e.questionId);return t?{idx:s,question:t,answer:e}:null}).filter(Boolean);return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,r.jsxs)(c.Zp,{className:"shadow-lg",children:[(0,r.jsxs)(c.aR,{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:(0,r.jsx)(b.A,{className:"w-9 h-9 text-primary"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(c.ZB,{className:"text-2xl font-bold",children:["Practice Summary – ",n]}),(0,r.jsx)(c.BT,{className:"text-sm text-muted-foreground",children:"Use this to attack your weak questions."})]})]}),(0,r.jsxs)(c.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-3xl font-bold tracking-tight",children:[d,"%"," ",(0,r.jsx)("span",{className:"text-sm font-normal text-muted-foreground",children:"correct in this practice"})]}),(0,r.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,r.jsxs)("li",{children:["• Total questions in deck:"," ",(0,r.jsx)("span",{className:"font-medium",children:e})]}),(0,r.jsxs)("li",{children:["• Answered:"," ",(0,r.jsx)("span",{className:"font-medium",children:a})]}),(0,r.jsxs)("li",{children:["• Unanswered:"," ",(0,r.jsx)("span",{className:"font-medium",children:l})]}),(0,r.jsxs)("li",{children:["• Correct:"," ",(0,r.jsx)("span",{className:"font-medium",children:s})]}),(0,r.jsxs)("li",{children:["• Incorrect:"," ",(0,r.jsx)("span",{className:"font-medium",children:t})]})]})]}),(0,r.jsx)("div",{className:"w-full md:w-64",children:(0,r.jsxs)("div",{className:"relative w-32 h-32 mx-auto",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-secondary"}),(0,r.jsx)("div",{className:"absolute inset-2 rounded-full border-[8px] border-primary",style:{background:"conic-gradient(var(--primary) ".concat(d,"%, transparent ").concat(d,"%)")}}),(0,r.jsx)("div",{className:"absolute inset-6 rounded-full bg-background flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-2xl font-bold",children:[d,"%"]})})]})})]}),(0,r.jsxs)("div",{className:"border-t pt-4 space-y-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold",children:"Questions you missed"}),0===o.length?(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"You didn't miss any question in this practice. Great job!"}):(0,r.jsx)("div",{className:"space-y-3 max-h-72 overflow-auto pr-1",children:o.map(e=>{let{idx:s,question:t,answer:a}=e;return(0,r.jsxs)("div",{className:"border rounded-md p-2 bg-muted/40 text-xs",children:[(0,r.jsxs)("p",{className:"font-semibold mb-1",children:["Q",s+1,". ",t.question]}),(0,r.jsxs)("p",{className:"mb-1",children:["Your answer:"," ",(0,r.jsxs)("span",{className:"font-semibold",children:[a.selectedAnswer,"."," ",t.options[a.selectedAnswer]]})]}),(0,r.jsxs)("p",{className:"mb-1",children:["Correct answer:"," ",(0,r.jsxs)("span",{className:"font-semibold",children:[t.correctAnswer,"."," ",t.options[t.correctAnswer]]})]}),t.reference&&(0,r.jsxs)("p",{className:"text-[11px] text-muted-foreground",children:["Reference: ",t.reference]})]},"".concat(t.id,"-").concat(s))})})]})]}),(0,r.jsxs)(c.wL,{className:"flex flex-col md:flex-row md:justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-auto",children:[(0,r.jsxs)(i.$,{className:"w-full md:w-auto",size:"sm",onClick:eh,children:[(0,r.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Repeat practice with same configuration"]}),(0,r.jsx)(i.$,{className:"w-full md:w-auto",size:"sm",variant:"outline",disabled:0===Y.filter(e=>!e.isCorrect).length,onClick:ef,children:"Study only the questions I got wrong"})]}),(0,r.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:(0,r.jsxs)(i.$,{onClick:eu,variant:"outline",className:"w-full sm:w-auto",size:"sm",children:[(0,r.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Back to module home"]})})]})]})})})}if("results"===$){let{total:e,correct:s,incorrect:t,answered:a,unanswered:l,percentage:d}=ep();return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,r.jsxs)(c.Zp,{className:"shadow-lg",children:[(0,r.jsxs)(c.aR,{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"mx-auto w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center",children:(0,r.jsx)(v.A,{className:"w-10 h-10 text-primary"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(c.ZB,{className:"text-3xl font-bold",children:["Test Results – ",n]}),(0,r.jsx)(c.BT,{className:"text-base text-muted-foreground",children:"Review your performance and identify areas to improve."})]})]}),(0,r.jsx)(c.Wu,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-4xl font-bold tracking-tight",children:[d,"%"," ",(0,r.jsx)("span",{className:"text-base font-normal text-muted-foreground",children:"score"})]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s," of ",e," questions correct"]}),(0,r.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,r.jsxs)("li",{children:["• Answered:"," ",(0,r.jsx)("span",{className:"font-medium",children:a})]}),(0,r.jsxs)("li",{children:["• Unanswered:"," ",(0,r.jsx)("span",{className:"font-medium",children:l})]}),(0,r.jsxs)("li",{children:["• Incorrect:"," ",(0,r.jsx)("span",{className:"font-medium",children:t})]})]})]}),(0,r.jsx)("div",{className:"w-full md:w-64",children:(0,r.jsxs)("div",{className:"relative w-40 h-40 mx-auto",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-secondary"}),(0,r.jsx)("div",{className:"absolute inset-3 rounded-full border-[10px] border-primary",style:{background:"conic-gradient(var(--primary) ".concat(d,"%, transparent ").concat(d,"%)")}}),(0,r.jsx)("div",{className:"absolute inset-7 rounded-full bg-background flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-3xl font-bold",children:[d,"%"]})})]})})]})}),(0,r.jsxs)(c.wL,{className:"flex flex-col md:flex-row md:justify-between gap-3",children:[(0,r.jsxs)(i.$,{onClick:eh,className:"w-full md:w-auto",size:"lg",children:[(0,r.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Take another test"]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[(0,r.jsxs)(i.$,{onClick:eu,variant:"outline",className:"w-full sm:w-auto",size:"lg",children:[(0,r.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Back to module home"]}),(0,r.jsxs)(i.$,{onClick:ef,variant:"outline",size:"lg",children:[(0,r.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"Practice only incorrect questions"]})]})]})]})})})}return null}},3998:(e,s,t)=>{t.d(s,{$:()=>c});var r=t(5155);t(2115);var a=t(2467),n=t(3101),l=t(4269);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:n,asChild:c=!1,...d}=e,o=c?a.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:(0,l.cn)(i({variant:t,size:n,className:s})),...d})}},4269:(e,s,t)=>{t.d(s,{cn:()=>n});var r=t(2821),a=t(5889);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},6948:(e,s,t)=>{t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l,wL:()=>o});var r=t(5155);t(2115);var a=t(4269);function n(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function i(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",s),...t})}function o(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",s),...t})}},8361:(e,s,t)=>{t.d(s,{A:()=>m});var r=t(5155),a=t(2115),n=t(2619),l=t.n(n),i=t(9708),c=t(2987),d=t(3998),o=t(6948);function m(e){let{moduleKey:s,title:t,children:n}=e,[m,x]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{h(function(e){try{var s,t;let r=localStorage.getItem("ameone_student_v1");if(!r)return!1;let a=JSON.parse(r),[n,l]=e.split(".");if(!n||!l)return!1;return!!(null==a||null==(t=a.entitlements)||null==(s=t[n])?void 0:s[l])}catch(e){return!1}}(s)),x(!0)},[s]),m)?u?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 p-4 py-8",children:(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsxs)(o.Zp,{children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsxs)(o.ZB,{className:"text-base flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),"Locked: ",t]}),(0,r.jsx)(o.BT,{className:"text-xs",children:"This module requires credits. Unlock it in the Student Area."})]}),(0,r.jsx)(o.Wu,{className:"text-sm text-muted-foreground",children:"Go to Student Area to unlock this specific module."}),(0,r.jsxs)(o.wL,{className:"flex gap-2",children:[(0,r.jsx)(d.$,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:(0,r.jsx)(l(),{href:"/study",children:"Back to Study Hub"})}),(0,r.jsx)(d.$,{asChild:!0,size:"sm",className:"flex-1",children:(0,r.jsxs)(l(),{href:"/student",className:"flex items-center justify-center gap-2",children:["Go to Student ",(0,r.jsx)(c.A,{className:"h-4 w-4"})]})})]})]})})}):(0,r.jsx)("div",{className:"min-h-[50vh] flex items-center justify-center text-sm text-muted-foreground",children:"Loading…"})}}}]);